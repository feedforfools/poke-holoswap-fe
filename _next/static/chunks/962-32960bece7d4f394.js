(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[962],{1950:(e,a,t)=>{"use strict";t.d(a,{a:()=>l,t:()=>s});let l=40,s=40},2127:(e,a,t)=>{"use strict";t.d(a,{u9:()=>i,ul:()=>n});var l=t(5077),s=t(1950);let r="dd69181f-1c20-4493-9ad7-4d57826db831";r?(l.A.configure({apiKey:r}),console.log("Pokemon TCG SDK Configured with API Key.")):console.warn("Pokemon TCG SDK running without API Key. Functionality may be limited.");let n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;console.log("Fetching cards - Page: ".concat(e,", Query: ").concat(a||"None",", OrderBy: ").concat(t||"Default"));let r={page:e,pageSize:s.t};a&&(r.q=a),t&&(r.orderBy=t);try{let e=await l.A.card.where(r);return console.log("Fetched ".concat(e.data.length," cards. Total: ").concat(e.totalCount)),e}catch(e){if(console.error("Error fetching cards:",e),e instanceof Error)try{var n;let a=(null==(n=e.response)?void 0:n.data)||e.message;console.error("API Error Details:",a)}catch(e){console.error("Could not parse error details: ",e)}throw Error("Failed to fetch cards from API.")}},i=async()=>{console.log("Fetching all sets...");try{let e=await l.A.set.all();return console.log("Fetched ".concat(e.length," sets.")),e.sort((e,a)=>e.name.localeCompare(a.name))}catch(e){throw console.error("Error fetching sets:",e),Error("Failed to fetch sets from API.")}}},2303:(e,a,t)=>{"use strict";t.d(a,{G:()=>Z});var l=t(5155),s=t(2115),r=t(2523),n=t(7924),i=t(3081),o=t(6474),c=t(7863),d=t(5196),m=t(9434);let u=i.bL;i.YJ;let x=i.WT,h=s.forwardRef((e,a)=>{let{className:t,children:s,...r}=e;return(0,l.jsxs)(i.l9,{ref:a,className:(0,m.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,(0,l.jsx)(i.In,{asChild:!0,children:(0,l.jsx)(o.A,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=i.l9.displayName;let f=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)(i.PP,{ref:a,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,l.jsx)(c.A,{className:"h-4 w-4"})})});f.displayName=i.PP.displayName;let p=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)(i.wn,{ref:a,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,l.jsx)(o.A,{className:"h-4 w-4"})})});p.displayName=i.wn.displayName;let g=s.forwardRef((e,a)=>{let{className:t,children:s,position:r="popper",...n}=e;return(0,l.jsx)(i.ZL,{children:(0,l.jsxs)(i.UC,{ref:a,className:(0,m.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[(0,l.jsx)(f,{}),(0,l.jsx)(i.LM,{className:(0,m.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,l.jsx)(p,{})]})})});g.displayName=i.UC.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)(i.JU,{ref:a,className:(0,m.cn)("px-2 py-1.5 text-sm font-semibold",t),...s})}).displayName=i.JU.displayName;let w=s.forwardRef((e,a)=>{let{className:t,children:s,...r}=e;return(0,l.jsxs)(i.q7,{ref:a,className:(0,m.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[(0,l.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(i.VF,{children:(0,l.jsx)(d.A,{className:"h-4 w-4"})})}),(0,l.jsx)(i.p4,{children:s})]})});w.displayName=i.q7.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)(i.wv,{ref:a,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=i.wv.displayName;var v=t(8856),j=t(530),N=t(285),b=t(646),y=t(8564),D=t(1976),A=t(8309),k=t(9103),C=t(6877);function P(e){var a;let{card:t,showActions:s=!0}=e,{addOwnedCard:r,removeOwnedCard:n,isOwned:i,addDoubleCard:o,removeDoubleCard:c,isDouble:d,addWishlistCard:u,removeWishlistCard:x,isWishlist:h}=(0,j.G)(),f=(null==(a=t.images)?void 0:a.small)||"/images/card-placeholder.png",p=i(t.id),g=d(t.id),w=h(t.id);return(0,l.jsxs)("div",{className:"relative group aspect-[2.5/3.5] w-full max-w-48 mx-auto overflow-hidden rounded-lg shadow-md transition-all duration-200 hover:shadow-xl",children:[(0,l.jsx)("img",{src:f,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),(0,l.jsxs)("div",{className:"absolute top-1 right-1 flex flex-col items-end space-y-1 z-10",children:[p&&(0,l.jsx)(b.A,{className:"w-4 h-4 text-green-400 bg-black/50 rounded-full p-0.5",children:(0,l.jsx)("title",{children:"Owned"})}),g&&(0,l.jsx)(y.A,{className:"w-4 h-4 text-yellow-400 bg-black/50 rounded-full p-0.5",children:(0,l.jsx)("title",{children:"Double"})}),w&&(0,l.jsx)(D.A,{className:"w-4 h-4 text-pink-500 bg-black/50 rounded-full p-0.5",children:(0,l.jsx)("title",{children:"Wishlist"})})]}),s&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-end p-2 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,l.jsx)("p",{className:"text-white text-xs font-semibold truncate mb-1",children:t.set.name}),(0,l.jsxs)("div",{className:"flex justify-around gap-1",children:[(0,l.jsxs)(N.$,{variant:"ghost",size:"sm",className:"h-7 px-1.5 text-xs text-white hover:bg-white/20 hover:text-white flex-1",onClick:e=>{e.stopPropagation(),p?n(t.id):r(t)},title:p?"Remove from Owned":"Add to Owned",children:[p?(0,l.jsx)(A.A,{className:"w-3.5 h-3.5 mr-1"}):(0,l.jsx)(k.A,{className:"w-3.5 h-3.5 mr-1"})," ","Own"]}),(0,l.jsxs)(N.$,{variant:"ghost",size:"sm",className:"h-7 px-1.5 text-xs text-white hover:bg-white/20 hover:text-white flex-1",onClick:e=>{e.stopPropagation(),g?c(t.id):o(t)},disabled:!p,title:g?"Remove Double Mark":"Mark as Double",children:[(0,l.jsx)(y.A,{className:(0,m.cn)("w-3.5 h-3.5 mr-1",g?"fill-yellow-400 text-yellow-400":"")})," ","Double"]}),(0,l.jsxs)(N.$,{variant:"ghost",size:"sm",className:"h-7 px-1.5 text-xs text-white hover:bg-white/20 hover:text-white flex-1",onClick:e=>{e.stopPropagation(),w?x(t.id):u(t)},disabled:p,title:w?"Remove from Wishlist":"Add to Wishlist",children:[p?(0,l.jsx)(C.A,{className:"w-3.5 h-3.5 mr-1 text-red-400"}):(0,l.jsx)(D.A,{className:(0,m.cn)("w-3.5 h-3.5 mr-1",w?"fill-pink-500 text-pink-500":"")})," ","Wish"]})]})]})]})}var S=t(9218),E=t(2355),R=t(3052),z=t(5623);let F=e=>{let{className:a,...t}=e;return(0,l.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,m.cn)("mx-auto flex w-full justify-center",a),...t})};F.displayName="Pagination";let T=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("ul",{ref:a,className:(0,m.cn)("flex flex-row items-center gap-1",t),...s})});T.displayName="PaginationContent";let M=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("li",{ref:a,className:(0,m.cn)("",t),...s})});M.displayName="PaginationItem";let O=e=>{let{className:a,isActive:t,size:s="icon",...r}=e;return(0,l.jsx)("a",{"aria-current":t?"page":void 0,className:(0,m.cn)((0,N.r)({variant:t?"outline":"ghost",size:s}),a),...r})};O.displayName="PaginationLink";let G=e=>{let{className:a,...t}=e;return(0,l.jsxs)(O,{"aria-label":"Go to previous page",size:"default",className:(0,m.cn)("gap-1 pl-2.5",a),...t,children:[(0,l.jsx)(E.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:"Previous"})]})};G.displayName="PaginationPrevious";let I=e=>{let{className:a,...t}=e;return(0,l.jsxs)(O,{"aria-label":"Go to next page",size:"default",className:(0,m.cn)("gap-1 pr-2.5",a),...t,children:[(0,l.jsx)("span",{children:"Next"}),(0,l.jsx)(R.A,{className:"h-4 w-4"})]})};I.displayName="PaginationNext";let L=e=>{let{className:a,...t}=e;return(0,l.jsxs)("span",{"aria-hidden":!0,className:(0,m.cn)("flex h-9 w-9 items-center justify-center",a),...t,children:[(0,l.jsx)(z.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"More pages"})]})};L.displayName="PaginationEllipsis";let K=(e,a)=>Array.from({length:a-e+1},(a,t)=>t+e),U=e=>{let{totalCount:a,pageSize:t,siblingCount:l=1,currentPage:r}=e;return(0,s.useMemo)(()=>{let e=Math.ceil(a/t);if(l+5>=e)return K(1,e);let s=Math.max(r-l,1),n=Math.min(r+l,e),i=s>2,o=n<e-1;if(!i&&o){let a=3+2*l;return[...K(1,a=Math.min(a,e-2)),"...",e]}if(i&&!o){let a=3+2*l;return a=Math.min(a,e-2),[1,"...",...K(e-a+1,e)]}return i&&o?[1,"...",...K(s,n),"...",e]:K(1,e)},[a,t,l,r])||[]};function W(e){let{totalCount:a,pageSize:t,currentPage:s,onPageChange:r,siblingCount:n=1,className:i,...o}=e,c=U({currentPage:s,totalCount:a,siblingCount:n,pageSize:t}),d=Math.ceil(a/t);if(0===s||c.length<2)return null;let u=()=>{s<d&&r(s+1)},x=()=>{s>1&&r(s-1)};return(0,l.jsx)(F,{className:(0,m.cn)("mt-6 pb-4",i),...o,children:(0,l.jsxs)(T,{children:[(0,l.jsx)(M,{children:(0,l.jsx)(G,{href:"#",onClick:e=>{e.preventDefault(),x()},"aria-disabled":1===s,className:1===s?"pointer-events-none opacity-50":void 0})}),c.map((e,a)=>"..."===e?(0,l.jsxs)(M,{children:[" ",(0,l.jsx)(L,{})]},"".concat("...","-").concat(a)):(0,l.jsx)(M,{children:(0,l.jsx)(O,{href:"#",onClick:a=>{a.preventDefault(),"number"==typeof e&&r(e)},isActive:s===e,"aria-current":s===e?"page":void 0,children:e})},e)),(0,l.jsx)(M,{children:(0,l.jsx)(I,{href:"#",onClick:e=>{e.preventDefault(),u()},"aria-disabled":s===d,className:s===d?"pointer-events-none opacity-50":void 0})})]})})}function Z(e){let{title:a,cards:t,isLoading:i,error:o,totalCount:c,currentPage:d,pageSize:m,onPageChange:f,searchValue:p,onSearchChange:j,onDebouncedSearchChange:N,selectedSet:b,onSetChange:y,selectedSort:D,onSortChange:A,availableSets:k,isLoadingSets:C,setFetchError:E,sortOptions:R,isPending:z=!1}=e,[F,T]=(0,s.useState)(p),M=function(e,a){let[t,l]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let a=setTimeout(()=>{l(e)},500);return()=>{clearTimeout(a)}},[e,500]),t}(F,500);(0,s.useEffect)(()=>{F!==p&&T(p)},[p]),(0,s.useEffect)(()=>{M!==p&&N(M)},[M]);let O=e=>Array.from({length:e}).map((e,t)=>(0,l.jsx)("div",{className:"flex flex-col space-y-2",children:(0,l.jsx)(v.E,{className:"aspect-[2.5/3.5] w-full max-w-48 mx-auto"})},"skeleton-".concat(t,"-").concat(a))),G=i&&0===t.length&&!o,I=(i||z)&&t.length>0;return(0,l.jsxs)("div",{className:"flex flex-1 flex-col h-full",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row h-auto md:h-16 shrink-0 items-center justify-between gap-3 border-b bg-background px-4 py-2 md:py-0 sticky top-0 z-10",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 w-full md:w-auto self-start md:self-center",children:[(0,l.jsx)(S.x2,{className:"-ml-1 md:hidden"}),(0,l.jsx)("h1",{className:"text-lg font-semibold ml-2 md:ml-0 flex-1 md:flex-initial truncate",children:a})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto",children:[(0,l.jsxs)(u,{value:b,onValueChange:y,disabled:C||z,children:[(0,l.jsx)(h,{className:"w-full sm:w-[180px]","aria-label":"Filter by Set",children:(0,l.jsx)(x,{placeholder:C?"Loading Sets...":"Select Set"})}),(0,l.jsxs)(g,{children:[(0,l.jsx)(w,{value:"all",children:"All Sets"}),E&&(0,l.jsx)(w,{value:"error",disabled:!0,children:"Error loading sets"}),k.map(e=>(0,l.jsx)(w,{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)(u,{value:D,onValueChange:A,disabled:z,children:[(0,l.jsx)(h,{className:"w-full sm:w-[180px]","aria-label":"Sort by",children:(0,l.jsx)(x,{placeholder:"Sort By"})}),(0,l.jsx)(g,{children:R.map(e=>(0,l.jsx)(w,{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"relative w-full sm:w-auto flex-1 md:grow-0 md:flex-initial",children:[(0,l.jsx)(n.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(r.p,{type:"search",placeholder:"Search name...",className:"w-full rounded-lg bg-background pl-8 md:w-[200px] lg:w-auto",value:F,onChange:e=>{let a=e.target.value;T(a),j(a)},disabled:z,"aria-label":"Search card name"})]})]})]}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:G?(0,l.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-10 gap-5",children:[O(m)," "]}):o?(0,l.jsxs)("div",{className:"text-destructive text-center py-10",children:["Error: ",o]}):0!==t.length||i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-10 gap-4",children:[I&&O(t.length),!I&&t.map(e=>(0,l.jsx)(P,{card:e},e.id))]}),I&&(0,l.jsx)("div",{className:"text-center text-muted-foreground py-4",children:"Loading..."}),!i&&c>m&&(0,l.jsx)(W,{currentPage:d,totalCount:c,pageSize:m,onPageChange:f,className:"mt-6 pb-4"})]}):(0,l.jsx)("div",{className:"text-muted-foreground text-center py-10",children:"No cards found matching your criteria."})})]})}},2634:()=>{},3087:(e,a,t)=>{"use strict";t.d(a,{G_:()=>l,VB:()=>r,ib:()=>s});let l={name:(e,a)=>e.name.localeCompare(a.name),"-name":(e,a)=>a.name.localeCompare(e.name),"-releaseDate":(e,a)=>{var t,l;let s=(null==(t=e.set)?void 0:t.releaseDate)?new Date(e.set.releaseDate).getTime():0;return((null==(l=a.set)?void 0:l.releaseDate)?new Date(a.set.releaseDate).getTime():0)-s},releaseDate:(e,a)=>{var t,l;return((null==(t=e.set)?void 0:t.releaseDate)?new Date(e.set.releaseDate).getTime():0)-((null==(l=a.set)?void 0:l.releaseDate)?new Date(a.set.releaseDate).getTime():0)},"set.releaseDate,number":(e,a)=>{var t,l;let s=((null==(t=e.set)?void 0:t.releaseDate)?new Date(e.set.releaseDate).getTime():0)-((null==(l=a.set)?void 0:l.releaseDate)?new Date(a.set.releaseDate).getTime():0);return 0!==s?s:e.name.localeCompare(a.name)}},s=[{value:"name",label:"Name (A-Z)"},{value:"-name",label:"Name (Z-A)"},{value:"-releaseDate",label:"Release Date (Newest)"},{value:"releaseDate",label:"Release Date (Oldest)"},{value:"set.releaseDate,number",label:"Set Order (Approx.)"}],r=[{value:"name",label:"Name (A-Z)"},{value:"-name",label:"Name (Z-A)"},{value:"-releaseDate",label:"Release Date (Newest)"},{value:"releaseDate",label:"Release Date (Oldest)"},{value:"set.releaseDate,number",label:"Set Order"}]},3329:(e,a,t)=>{"use strict";t.d(a,{m:()=>r});var l=t(2115),s=t(2127);function r(){let[e,a]=(0,l.useState)([]),[t,r]=(0,l.useState)(!0),[n,i]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=!0;return(async()=>{console.log("Hook: Fetching Sets"),r(!0),i(null);try{let t=await (0,s.u9)();e&&a(t)}catch(t){console.error("Hook: Failed to load sets:",t);let a=t instanceof Error?t.message:"Unknown error fetching sets";e&&i(a)}finally{e&&r(!1)}})(),()=>{e=!1}},[]),{availableSets:e,isLoadingSets:t,setFetchError:n}}}}]);